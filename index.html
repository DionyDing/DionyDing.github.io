<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>D_d</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="这里是丁丁的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="D_d">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="D_d">
<meta property="og:description" content="这里是丁丁的博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="D_d">
<meta name="twitter:description" content="这里是丁丁的博客">
  
    <link rel="alternative" href="/atom.xml" title="D_d" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">D_d</a></h1>
        </hgroup>

        
        <p class="header-subtitle">——Welcome to D_d&#39;s Blog!——</p>
        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">首页</a></li>
                        
                            <li><a href="/archives">归档</a></li>
                        
                            <li><a href="/">关于生活</a></li>
                        
                            <li><a href="/categories/technology">技术</a></li>
                        
                            <li><a href="/categories/technology/javascript">js</a></li>
                        
                            <li><a href="/categories/technology/css">HTML&amp;CSS</a></li>
                        
                            <li><a href="/categories/plan">哈哈哈计划赶不上变化</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=ek9DTk5OSE1MSzoLC1QZFRc" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/dionyding" title="github">github</a>
                            
                                <a class="fl weibo" target="_blank" href="http://weibo.com/u/2258194143" title="weibo">weibo</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/gulp/" style="font-size: 10px;">gulp</a> <a href="/tags/javascript学习笔记/" style="font-size: 20px;">javascript学习笔记</a> <a href="/tags/work-notes/" style="font-size: 10px;">work notes</a> <a href="/tags/xampp/" style="font-size: 10px;">xampp</a> <a href="/tags/哈哈哈！计划赶不上变化/" style="font-size: 10px;">哈哈哈！计划赶不上变化</a> <a href="/tags/图片格式/" style="font-size: 10px;">图片格式</a> <a href="/tags/百度面试题/" style="font-size: 10px;">百度面试题</a> <a href="/tags/纯css实现多级nav/" style="font-size: 10px;">纯css实现多级nav</a> <a href="/tags/纯css画三角形/" style="font-size: 10px;">纯css画三角形</a> <a href="/tags/闭包和作用域/" style="font-size: 10px;">闭包和作用域</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://congyingtech.github.io/">mohnTech</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://missxing.github.io/">missXing</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">爱生活，爱旅行，爱摄影，爱前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">D_d</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">D_d</a></h1>
            </hgroup>
            
            <p class="header-subtitle">——Welcome to D_d&#39;s Blog!——</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">首页</a></li>
                
                    <li><a href="/archives">归档</a></li>
                
                    <li><a href="/">关于生活</a></li>
                
                    <li><a href="/categories/technology">技术</a></li>
                
                    <li><a href="/categories/technology/javascript">js</a></li>
                
                    <li><a href="/categories/technology/css">HTML&amp;CSS</a></li>
                
                    <li><a href="/categories/plan">哈哈哈计划赶不上变化</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=ek9DTk5OSE1MSzoLC1QZFRc" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/dionyding" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="http://weibo.com/u/2258194143" title="weibo">weibo</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-《javascript权威指南》学习笔记（14）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/08/《javascript权威指南》学习笔记（14）/" class="article-date">
      <time datetime="2016-08-08T12:26:51.000Z" itemprop="datePublished">2016-08-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/08/《javascript权威指南》学习笔记（14）/">《javascript权威指南》学习笔记（14）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="客户端存储篇"><a href="#客户端存储篇" class="headerlink" title="客户端存储篇"></a>客户端存储篇</h1><p><img src="http://o6yo3ducz.bkt.clouddn.com/javascript-book-cover.jpg" title="javascript权威指南" width="200px"></p>
<h1 id="——客户端存储遵循“同源策略”，但同一站点的不同页面之间可以共享存储数据，这提供了一种通信机制"><a href="#——客户端存储遵循“同源策略”，但同一站点的不同页面之间可以共享存储数据，这提供了一种通信机制" class="headerlink" title="——客户端存储遵循“同源策略”，但同一站点的不同页面之间可以共享存储数据，这提供了一种通信机制"></a>——客户端存储遵循“同源策略”，但同一站点的不同页面之间可以共享存储数据，这提供了一种通信机制</h1><h3 id="localStorage与sessionStorage"><a href="#localStorage与sessionStorage" class="headerlink" title="localStorage与sessionStorage"></a>localStorage与sessionStorage</h3><ul>
<li>代表storage对象，本质为一个持久化关联数组，有些数据类型的存储需要序列化</li>
<li>区别：主要区别在于存储期于作用域<ul>
<li>存储期：<ul>
<li>localStorage存储数据为永久性的，除非Web应用或用户删除，否则一直存在于用户计算机永不过期</li>
<li>sessionStorage存储的数据一旦标签页被关闭，数据也被删除</li>
</ul>
</li>
<li>作用域：<ul>
<li>localStorage限定于文档源级别，同源才可共享、覆盖，且受浏览器种类限制，不同浏览器打开同一页面不可共享localStorage</li>
<li>sessionStorage限定于文档源级别且限定于窗口级别，受同源策略限制且不同标签页不共享数据。但窗口指顶级窗口，同一页面下的iframe标签可共享数据</li>
</ul>
</li>
</ul>
</li>
<li>API：<ul>
<li>setItem(…):传入名值存储<ul>
<li>JSON对象设置值时用这种方法可以避免修改了副本未修改原对象<br>eg:localStorage.o={X:1};<br>localStorage.o.x=0;<br>localStorage.o.x; //1</li>
</ul>
</li>
<li>getItem(…):传入名字获取对应值</li>
<li>removeItem(…):传入名字删除数据</li>
<li>clear():清空所有变量</li>
<li>length,key(“name”):枚举</li>
</ul>
</li>
<li>存储事件onstorage<ul>
<li>firefox不支持</li>
<li>数据改变（不包括置相同名值对及删除不存在名值对）时，其他对该数据可见的窗口对象上会触发该事件，对数据进行改变的窗口对象上不触发</li>
<li>localStorage存储事件采用广播机制<h3 id="cookie—未完待续"><a href="#cookie—未完待续" class="headerlink" title="cookie—未完待续"></a>cookie—未完待续</h3></li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript学习笔记/">javascript学习笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-百度面试的总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/27/百度面试的总结/" class="article-date">
      <time datetime="2016-07-27T12:33:13.000Z" itemprop="datePublished">2016-07-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/27/百度面试的总结/">百度面试的总结</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="绝对居中"><a href="#绝对居中" class="headerlink" title="绝对居中"></a>绝对居中</h3><p><div style="width:200px;height:200px;border:1px solid yellowgreen;">.div1<br>  <div style="width:100px;height:100px;border:1px solid yellowgreen;margin:33px auto">.div2</div><br></div></p>
<ul>
<li>方式1：<pre><br>.div1{<br>position:relative;<br>}<br>.div2{<br>position:absolute;<br>margin:auto;        //这里是auto，初衷就是为上下左右都居中设定的<br>top:0;<br>bottom:0;<br>left:0;<br>right:0;<br>}<br></pre>貌似原理是top,bottom,left,right全部置0后浏览器会重新分配位置，此时margin:auto就会生效，上下与左右都会居中</li>
<li>方式2：使用translate（x,y）设置<pre><br>.div1{<br>position:relative;<br>}<br>.div2{<br>position:absolute;<br>width:200px;<br>top:50%;<br>left:50%;<br>transform：translate(-50%，-50%);    //这里translate会基于自身宽度而不是父元素宽度乘以百分比<br>}</pre><h3 id="IE盒模型与标准盒模型的区别"><a href="#IE盒模型与标准盒模型的区别" class="headerlink" title="IE盒模型与标准盒模型的区别"></a>IE盒模型与标准盒模型的区别</h3></li>
<li>IE盒模型：width包括了border,padding,content的宽度</li>
<li>标准盒模型：width为content的宽度<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3></li>
<li>要求：父类parent，具有firstname，bigEyes属性及getFirstname方法；子类child继承父类的firstName，bigEyes,getFirstname方法之外，具有age属性及getAge方法</li>
<li>代码：<pre><br>//父类parent<br>function parent(firstname,bigEyes){<br>this.firstname=firstname;<br>this.bigEyes=bigEyes;<br>this.getFirstname=function (){<br> return this.firstname;<br>}<br>}<br>//子类child<br>function child(firstname,bigEyes,age){<br>this.prototype=parent(firstname,bigEyes);<br>this.age=age;<br>this.getAge=function (){<br> return this.age;<br>}<br>}<br></pre><h3 id="识别设备"><a href="#识别设备" class="headerlink" title="识别设备"></a>识别设备</h3></li>
<li>使用window.navigator.userAgent.toLowerCase().indexOf(“iphone/android”)&gt;-1</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/日常的问题/">日常的问题</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/百度面试题/">百度面试题</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-工作的总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/27/工作的总结/" class="article-date">
      <time datetime="2016-07-27T12:32:50.000Z" itemprop="datePublished">2016-07-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/27/工作的总结/">工作的总结2017\07\27</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="表格的问题"><a href="#表格的问题" class="headerlink" title="表格的问题"></a>表格的问题</h3><ul>
<li>一个单元格内的文本内容过长，没有换行而是文本内容叠在了一行</li>
<li>尝试：word-wrap/word-break，加高高度，单元格占两行等都无果</li>
<li>解决：师傅告诉我两种方案<br>1.&lt;td&gt;下套&lt;div&gt;——这是个万能方案←_←<br>2.&lt;td&gt;的高度与line-height高度相同导致这种问题——果然是这个原因</li>
<li>表格一般能不用就尽量少用了，样式限定好多啊……实在要用可用bootstrap写表格(Bootstrap属于前端UI库，通过现成的UI组件能够迅速搭建前端页面)<h3 id="移动端头部"><a href="#移动端头部" class="headerlink" title="移动端头部"></a>移动端头部</h3></li>
<li>一定要加这个&lt;meta name=”viewport” content=”width=device-width, initial-scale=1” /&gt;，不然rem控制的JS会出问题……<h3 id="font-family"><a href="#font-family" class="headerlink" title="font-family"></a>font-family</h3></li>
<li>sans-serif只是内置的英文字体，中文Android用微软雅黑”Microsoft YaHei”,IOS用黑体”SimHei”<h3 id="list-style-image"><a href="#list-style-image" class="headerlink" title="list-style-image"></a>list-style-image</h3></li>
<li>存在兼容性问题，会有浏览器不支持，且不可调整大小，不好用</li>
<li>不如在&lt;li&gt;内部套&lt;span&gt;实现<h3 id="width置为百分比的基准问题"><a href="#width置为百分比的基准问题" class="headerlink" title="width置为百分比的基准问题"></a>width置为百分比的基准问题</h3></li>
<li>会以祖先元素中最近的一个具有明确宽度的元素为基准乘以百分比值，不一定为父元素（明确宽度不包括padding挤出的宽度）<h3 id="CSS优化问题"><a href="#CSS优化问题" class="headerlink" title="CSS优化问题"></a>CSS优化问题</h3></li>
<li>之前会想着尽量少写类，师傅告诉我其实没必要，好的CSS是要尽量方便后续改动，多几个类名的代价还是没什么的</li>
<li>在HTML中可以给一个DOM加多个类也是很清晰的方式</li>
<li>CSS类名之前都用了驼峰命名的方式，其实应该用-拼接的</li>
<li>CSS颗粒化为许多小类是常见方式，看了下百度页面的代码，确实每个CSS类都很短<h3 id="浏览器渲染时script标签问题"><a href="#浏览器渲染时script标签问题" class="headerlink" title="浏览器渲染时script标签问题"></a>浏览器渲染时script标签问题</h3></li>
<li>&lt;script&gt;src中填入url会向服务器请求文件，不等返回继续渲染，返回后立即执行；</li>
<li>&lt;script&gt;中直接写入代码会立即执行</li>
<li>所有具有src属性的标签都不受同源策略限制，如&lt;img&gt;等等<h3 id="JS中的else问题"><a href="#JS中的else问题" class="headerlink" title="JS中的else问题"></a>JS中的else问题</h3></li>
<li>else会匹配最近的if之外的情况，多个if之外的情况使用else if<h3 id="Emmet"><a href="#Emmet" class="headerlink" title="Emmet"></a>Emmet</h3></li>
<li>这是简化写html/css的方式</li>
<li>举个栗子=_=，html:5+tab会插入html基础DOM;li*3+tab会插入3个&lt;li&gt;<h3 id="jquery中的animate"><a href="#jquery中的animate" class="headerlink" title="jquery中的animate()"></a>jquery中的animate()</h3></li>
<li>可传入第三个callback参数做回调函数，callback会在animate动作结束后才执行；</li>
<li>写在animate()同级的动作会因animate()的执行时延而全都发生在动作前，今天因为不知道有callback参数耽误了好所时间-_-!</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/日常的问题/">日常的问题</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/work-notes/">work notes</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-关于图片" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/12/关于图片/" class="article-date">
      <time datetime="2016-07-12T13:45:25.000Z" itemprop="datePublished">2016-07-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/12/关于图片/">关于图片</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>今天了解到一些关于图片的知识<br>png格式:不会压缩图片，支持透明，半透明，不透明<br>jpg格式：存在压缩算法，可通过改变品质改变压缩率，不支持透明，貌似也可以做动效图<br>gif格式：可以做动效图，支持透明，不透明，不支持半透明，IE6及以下貌似不支持该格式</p>
<h3 id="另一个经验：移动端main容器290px宽适配比较科学，不要乱改……"><a href="#另一个经验：移动端main容器290px宽适配比较科学，不要乱改……" class="headerlink" title="另一个经验：移动端main容器290px宽适配比较科学，不要乱改……"></a>另一个经验：移动端main容器290px宽适配比较科学，不要乱改……</h3>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/日常的问题/">日常的问题</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/图片格式/">图片格式</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-工具小常识xampp-gulp" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/12/工具小常识xampp-gulp/" class="article-date">
      <time datetime="2016-07-12T13:27:45.000Z" itemprop="datePublished">2016-07-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/12/工具小常识xampp-gulp/">工具小常识xampp&amp;gulp</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="XAMPP"><a href="#XAMPP" class="headerlink" title="XAMPP"></a>XAMPP</h1><ul>
<li>修改Index指向的内容：<br>在安装目录下的htdocs文件夹下添加指向待添加项目文件夹的链接，注意这里并不是快捷方式，直接创建快捷方式会出错，要在cmd下使用mklink命令创建指向链接（直接在cmd下输入mklink会提示如何输参数）</li>
<li>win8和win10要在管理员权限下运行，Win+x,A</li>
<li>Link路径不能是已经存在的文件夹</li>
</ul>
<hr>
<h1 id="gulp的使用"><a href="#gulp的使用" class="headerlink" title="gulp的使用"></a>gulp的使用</h1><h3 id="一些git上使用的常用命令-安装npm的国内镜像cnpm可以加快速度"><a href="#一些git上使用的常用命令-安装npm的国内镜像cnpm可以加快速度" class="headerlink" title="一些git上使用的常用命令(安装npm的国内镜像cnpm可以加快速度)"></a>一些git上使用的常用命令(安装npm的国内镜像cnpm可以加快速度)</h3><ul>
<li>which gulp/cnmp检查是否安装过</li>
<li>在项目中首次使用gulp要初始化建立json配置文件（package.json），使用cnpm init命令</li>
<li>在项目中首次使用gulp要在项目中局部安装gulp，使用cnpm install gulp –save-dev命令，–save-dev表示在配置文件package.json中保存信息</li>
<li>vim gulpfile.js命令建立gulpfile.js文件并进入vim编辑器以编辑它,在该文件中写入gulp的功能</li>
<li>vim .gitignore命令建立.gitignore文件并进入vim编辑器以编辑它，在该文件中写入提交到仓库时需忽略的文件的相对路径</li>
<li>vim编辑器模式使用ctrl+c命令退出</li>
<li>gulp taskName命令执行写入的操作；也可以在gulpfile.js中定义default默认操作直接使用gulp命令执行一系列定义的操作，但其执行顺序不一定为定义顺序<h3 id="gulpfile-js中的命令"><a href="#gulpfile-js中的命令" class="headerlink" title="gulpfile.js中的命令"></a>gulpfile.js中的命令</h3></li>
<li>头部依赖<ul>
<li>var gulp= require(‘gulp’);</li>
<li>var minify-css= require(‘gulp-minify-css’);  //压缩css</li>
<li>var concat= require(‘gulp-concat’);  //拼接文件</li>
<li>var uglify= require(‘gulp-uglify’);  //压缩JS</li>
<li>var jshint= require(‘gulp-jshint’);  //语法检查</li>
</ul>
</li>
<li>常用函数<ul>
<li>gulp.task(name, fn)定义name任务</li>
<li>gulp.run(tasks…)尽可能多的并行运行多个task</li>
<li>gulp.watch(glob, fn)监听glob，当glob内容发生改变时，执行fn</li>
<li>gulp.src(glob)源文件路径，返回一个可读的stream</li>
<li>gulp.dest(glob)目标文件路径，返回一个可写的stream</li>
</ul>
</li>
<li>两个例子<ul>
<li>移动文件<pre><br>gulp.task(‘move’,function (){return gulp.src([‘../src/<em>*/</em>.<em>‘,’../src/</em>‘])    //src文件夹下所有文件夹下的所有文件及src下的所有文件夹（一个*只代表一层文件）<br>}).pipe(gulp.dest(‘./xxx’));    //pipe()表示进入管道流<br></pre></li>
<li>设置默认命令<pre><br>gulp.task(‘default’,function (){gulp.start([‘task1’,’task2’])});<br></pre><h3 id="最后要检查下移动后的文件数目与源文件数目是否相同！"><a href="#最后要检查下移动后的文件数目与源文件数目是否相同！" class="headerlink" title="最后要检查下移动后的文件数目与源文件数目是否相同！"></a>最后要检查下移动后的文件数目与源文件数目是否相同！</h3></li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/日常的问题/">日常的问题</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gulp/">gulp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/xampp/">xampp</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-《javascript权威指南》学习笔记（13）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/09/《javascript权威指南》学习笔记（13）/" class="article-date">
      <time datetime="2016-07-09T02:30:25.000Z" itemprop="datePublished">2016-07-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/09/《javascript权威指南》学习笔记（13）/">《javascript权威指南》学习笔记（13）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="canvas图形篇"><a href="#canvas图形篇" class="headerlink" title="canvas图形篇"></a>canvas图形篇</h1><p><img src="http://o6yo3ducz.bkt.clouddn.com/javascript-book-cover.jpg" title="javascript权威指南" width="200px"></p>
<p>采用图形状态与绘制指令分离的思想，要定义画布宽高，单位默认为px<br>与svg的区别：canvas通过调用它提供的方法绘图，而svg是通过构建XML树实现，二者可相互模拟</p>
<p><div style="color:red;font-size:18px;"><br>绘制API大多定义在canvasRenderingContext2D对象上而不是&lt;canvas&gt;元素上，画布元素和上下文对象是分开的不同对象！每个&lt;canvas&gt;元素只有一个上下文对象！<br></div><br>例子：<pre><br>var canvas=document.getElementById(‘canvas’);  //画布对象<br>var c=canvas.getContext(‘2d’);  //上下文对象<br></pre></p>
<h3 id="线段与多边形API"><a href="#线段与多边形API" class="headerlink" title="线段与多边形API"></a>线段与多边形API</h3><ul>
<li>c.beginPath():开始定义新路径</li>
<li>c.lineTo(x,y):上次绘制终点与（x,y）点连线</li>
<li>c.closePath():连接终点与起点闭合路径</li>
<li>c.moveTo(x,y):开始新的子路径，（x,y）为起点<h3 id="矩形"><a href="#矩形" class="headerlink" title="矩形"></a>矩形</h3></li>
<li>rect(x,y,width,height):<span style="color:red;">会改变当前路径</span>添加该矩形到当前路径下，（x,y）为左上角顶点</li>
<li>fillRect(x,y,width,height)：<span style="color:red;">不改变当前路径</span>使用当前fillStyle填充矩形</li>
<li>strokeRect(x,y,width,height)：<span style="color:red;">不改变当前路径</span>使用当前strokeStyle填充矩形</li>
<li>clearRect(x,y,width,height):<span style="color:red;">不改变当前路径</span>忽略填充样式，采用透明黑色像素填充矩形，即显示空白<h3 id="图形属性"><a href="#图形属性" class="headerlink" title="图形属性"></a>图形属性</h3>不是传递给fill()与stroke()的参数，而是上下文对象的通用图形状态！是图形状态与绘制指令分离的思想！</li>
<li>c.fillStyle/c.strokeStyle:指定填充/勾勒时的颜色/图案/渐变</li>
<li>c.lineWidth:勾勒线宽，值为number类型，默认单位px</li>
<li>c.globalAlpha:绘制像素时的透明度，值在0~1之间，在原alpha的基础上乘以该值</li>
<li>c.textAlign/c.textBaseline:文本水平/垂直对齐方式</li>
<li>c.font：绘制文本时的CSS文字属性</li>
<li>c.shadowColor/c.shadowOffsetX/c.shadowOffsetY/c.shadowBlur:阴影属性</li>
<li>c.lineCap/c.lineJoin:线段端点/相交端点显示方式<br>c.fill()/c.stroke()后才会显示出来<h3 id="保存与恢复图形状态"><a href="#保存与恢复图形状态" class="headerlink" title="保存与恢复图形状态"></a>保存与恢复图形状态</h3></li>
<li>c.save()保存当前图形状态</li>
<li>c.restore()恢复原来的图形状态</li>
<li>Tips:<ul>
<li>可在多状态间切换</li>
<li>当前定义的路径及不属于图形状态的当前点不能保存/恢复<h3 id="坐标系变换"><a href="#坐标系变换" class="headerlink" title="坐标系变换"></a>坐标系变换</h3></li>
</ul>
</li>
<li>可通过c.translate()/c.rotate()/c.scale()实现坐标系变换<h3 id="曲线绘制"><a href="#曲线绘制" class="headerlink" title="曲线绘制"></a>曲线绘制</h3></li>
<li>c.arc(x,y,r,startAngle,endAngle,boolDerection):绘制圆心（x,y）,半径r,起始角度startAngle弧度,中止角度endAngle弧度,方向false为顺时针/true为逆时针的弧</li>
<li>c.arcTo(x1,y1,x2,y2,r):绘制与当前点到（x1,y1）及（x1,y1）到（x2,y2）的连线均相切且半径为r的弧<br>绘制圆角时使用较方便</li>
<li>c.bezierCurveTo()/c.quadraticCurveTo():绘制贝塞尔曲线<h3 id="勾勒与填充"><a href="#勾勒与填充" class="headerlink" title="勾勒与填充"></a>勾勒与填充</h3></li>
<li>纯色填充/勾勒：填充c.fillStyle=”rgb(2,8,90)/#f09”；勾勒c.strokeStyle=”#fff”</li>
<li>图案填充/勾勒：通过上下文对象的createPattern()方法<ul>
<li>c.fillStyle/strokeStyle=c.createPattern(“Element”,”repeat/repeat-x/repeat-y/no-repeat”):Element参数为&lt;img&gt;&lt;canvas&gt;&lt;video&gt;&lt;canvas&gt;或Image()构造函数创建的对象；第二个参数为重复方式</li>
</ul>
</li>
<li>渐变填充/勾勒：通过上下文对象的createLinear/RadialGradient()方法<ul>
<li>var chage=c.createLinearGradient(x1,y1,x2,y2);<br>(x1,y1)为渐变起点,(x2,y2)为渐变终点<br>(0,0,170,0)表示横向渐变，（0，0，0，50）标识竖向渐变，（0，0，50，50）表示对角渐变</li>
<li>var chage=c.createRadialGradient(x1,y1,r1,x2,y2,r2);<br>第二个圆要包含第一个圆，可不同心</li>
<li>change.addColorStop(0~1,’color’)：0~1表位置<br><span style="color:red;">添加渐变位置，至少有两处！</span></li>
</ul>
</li>
<li>调用c.fill()/c.stroke()方法实现指定样式的填充与勾勒</li>
<li>Tips:填充与勾勒均不改变路径！且不可用于阴影！<h3 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h3></li>
<li>c.font属性指定字体，字号等（同CSS的font复合属性）</li>
<li>c.fillStyle/c.strokeStyle指定填充/勾勒样式</li>
<li>还有c.textAlign/c.textBaseline属性</li>
<li>c.fillText(‘text’,x,y):填充（x,y）位置的text文本</li>
<li>c.strokeText(‘text’,x,y):勾勒（x,y）位置的text文本</li>
<li>c.measureText(‘text’).width:绘制文本前测量文本宽度<h3 id="线段绘制相关属性"><a href="#线段绘制相关属性" class="headerlink" title="线段绘制相关属性"></a>线段绘制相关属性</h3></li>
<li>c.lineCap:子路径端点连接方式，其可能值如下：<ul>
<li>butt:线段端点直接结束</li>
<li>square:端点再延长线段宽度的一半</li>
<li>round：端点再延长半径为线段宽度的一半半圆</li>
</ul>
</li>
<li>c.lineJoin:子路径相交顶点间连接方式，其可能值如下：<ul>
<li>miter：尖</li>
<li>round：圆</li>
<li>square：顶点处截断的方形<h3 id="裁剪"><a href="#裁剪" class="headerlink" title="裁剪"></a>裁剪</h3></li>
</ul>
</li>
<li>c.clip():将当前路径定义为裁剪区域，该区域外不会绘制</li>
<li>每次调用只会缩小裁剪区域，不会放大，可在之前用c.save()保存当前图形，需要时用c.restore()恢复<h3 id="阴影-图形和渐变不用于阴影"><a href="#阴影-图形和渐变不用于阴影" class="headerlink" title="阴影(图形和渐变不用于阴影)"></a>阴影(图形和渐变不用于阴影)</h3></li>
<li>c.shadowColor：指定阴影颜色，默认全透明黑色</li>
<li>c.offsetX/c.offsetY:阴影X轴Y轴偏移，偏移越大阴影越大，值为number类型<br>偏移不受rotate()等坐标变换影响</li>
<li>c.shadowBlur:阴影模糊度，值越大越模糊，值为number类型</li>
<li>Tips:要使用c.fill()/c.stroke()填充/勾勒！<h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3></li>
<li>c.drawImage(src,x,y,<del>width,height,desX,desY,desWidth,desHeight</del>):可传入3/5/9个参数<ul>
<li>3个参数：src为&lt;img&gt;&lt;video&gt;&lt;canvas&gt;或Image()构造函数创建的图片</li>
<li>5个参数：加上宽高</li>
<li>9个参数：将第2—5个参数的原矩形复制到第6—9个参数的目标矩形，此时坐标系为画布的坐标</li>
</ul>
</li>
<li>dcument.canvas.toDataURL():<span style="color:red;">这个方法不是上下文对象的，而是canvas标签的！</span>编码为图片URL字符串，有一个可选参数指定图片MIME类型如默认值image/png等，存在安全限制禁止跨域<h3 id="一个绘制多边形的例子"><a href="#一个绘制多边形的例子" class="headerlink" title="一个绘制多边形的例子"></a>一个绘制多边形的例子</h3>在（x,y）为中心r为半径的圆内绘制正n边形，其中c代表上下文对象<pre><br>function polygon(c,n,x,y,r){<br>var angle=2<em>MATH.PI/n; //n边形内角<br>c.beginPath();<br>c.moveTo(x+r</em>MATH.sin(angle),y-r<em>MATH.sin(angle));<br>for(var i=1;i&lt;n;i++){<br>var angleNow=(i+1)</em>angle;<br>c.lineTo(x+r<em>MATH.sin(angleNow),y-r</em>MATH.cos(angleNow))<br>}<br>c.closePath();<br>}<br></pre><br>这里只定义了路径，没有勾勒填充</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript学习笔记/">javascript学习笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-《javascript权威指南》学习笔记（12）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/09/《javascript权威指南》学习笔记（12）/" class="article-date">
      <time datetime="2016-07-09T02:00:23.000Z" itemprop="datePublished">2016-07-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/09/《javascript权威指南》学习笔记（12）/">《javascript权威指南》学习笔记（12）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="SVG初级篇"><a href="#SVG初级篇" class="headerlink" title="SVG初级篇"></a>SVG初级篇</h3><p><img src="http://o6yo3ducz.bkt.clouddn.com/javascript-book-cover.jpg" title="javascript权威指南" width="200px"></p>
<p>SVG代表可伸缩的矢量图形，是一种用于描述图形的XML语法，IE9以下不支持。通过对画图形时的必要路径的精准的分辨率无关的描述实现绘图<br>早期使用&lt;object/&gt;插入svg图像，现在可以直接写入文档中</p>
<p><div style="color:red;font-size:18px;"><br>用JS创建svg图形时，使用XML语法，要使用createElementNS()处理DOM创建，直接用createElement()创建，显示时会出现问题<br></div><br>简单示例<pre><br>&lt;svg width=”15” height=”15”&gt;<br> &lt;rect x=”0” y=”0” width=”5” height=”5” fill=”red”/&gt;<br> &lt;circle cx=”7.5” cy=”7.5” r=”2.5” fill=”green”/&gt;<br> &lt;text x=”12.5” y=”12.5”&gt;D_d&lt;/text&gt;<br> &lt;line x1=”0” y1=”0” x2=”15” y2=”15”/&gt;<br> &lt;path d=”M0 0 L0 5 A15,15 0 0 0 7,7Z” stroke=”blue” stroke-width=”2”&gt;&lt;/path&gt;<br>&lt;/svg&gt;<br></pre><br>可配合transform实现动态效果</p>
<h3 id="一个SVG饼图的例子"><a href="#一个SVG饼图的例子" class="headerlink" title="一个SVG饼图的例子"></a>一个SVG饼图的例子</h3><p><pre><br>function pieChart(data,width,height,cx,cy,r,colors){<br>var svgns=’<a href="http://www.w3.org/2000/svg" target="_blank" rel="external">http://www.w3.org/2000/svg</a>‘;<br>var chart=document.createElementsNS(svgns,’svg:svg’); //创建&lt;svg&gt;元素<br>chart.setAttribute(‘width’,width);<br>chart.setAttribute(‘height’,height);<br>chart.setAttribute(‘viewBox’,’0 0’+width+’ ‘+height);<br>var angles=[];  //用以存储每个扇形对应的角度<br>var total=0;    //用以存储data的合计值<br>for(var i=0;i<data.length;i++) total+="data[i];" for(var="" i="0;i<data.length;i++)" angles[i]="data[i]/total*2*MATH.PI;" var="" startangle="0;" endangle="startAngle+angles[i];" 计算扇形和圆的相交点，12点方向为0度，顺时针方向为正方向="" x1="cx+r*MATH.sin(startAngle);" y1="cy-r*MATH.cos(startAngle);" x2="cx+r*MATH.sin(endAngle);" y2="cy-r*MATH.cos(endAngle);" 判断优弧与劣弧,优弧big值为1="" big="(endAngle-startAngle">MATH.PI)?1:0;<br> var path=document.createElementsNS(svgns,’path’);<br> var d=’M’+cx+’,’+cy+’ L’+x1+’,’+’y1’+’ A’+r+’,’+r+’ 0 ‘+big+’ 1 ‘+x2+’,’+’y2’+’ Z’;<br> path.setAttribute(‘d’,d);<br> path.setAttribute(‘fill’,colors[i]);<br> path.setAttribute(‘stroke’,’’black);<br> path.setAttribute(‘stroke-width’,’2’);<br> chart.appendChild(path);<br> }<br>}<br></data.length;i++)></pre><br>效果图如下：</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript学习笔记/">javascript学习笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-《javascript权威指南》学习笔记（11）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/08/《javascript权威指南》学习笔记（11）/" class="article-date">
      <time datetime="2016-07-08T10:10:26.000Z" itemprop="datePublished">2016-07-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/08/《javascript权威指南》学习笔记（11）/">《javascript权威指南》学习笔记（11）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="多媒体篇"><a href="#多媒体篇" class="headerlink" title="多媒体篇"></a>多媒体篇</h1><p><img src="http://o6yo3ducz.bkt.clouddn.com/javascript-book-cover.jpg" title="javascript权威指南" width="200px"></p>
<h3 id="缓存图片"><a href="#缓存图片" class="headerlink" title="缓存图片"></a>缓存图片</h3><ul>
<li>利用Image()构造函数创建一个屏幕外图片对象，将该对象的src属性置为期望的url，此时图片将添加至文档中，是不可见的，但浏览器还是会加载图片将其缓存。当图片加入文档中时才会显示。</li>
<li>一个例子:<pre>var img=new Image();
img.src='url';
document.body.appendChild(img);
</pre></li>
<li>Tips:同类构造函数还有Audio(),但无Video()构造函数<h3 id="脚本化的音频和视频"><a href="#脚本化的音频和视频" class="headerlink" title="脚本化的音频和视频"></a>脚本化的音频和视频</h3></li>
<li>设置src属性时，加载媒体的过程开始，若有其他媒体在load/play会中止这些媒体</li>
<li>H5引入&lt;audio&gt;&lt;video&gt;作为音频和视频元素（有control属性，置为true显示播放控件）</li>
<li>通常需要&lt;source&gt;指定不同格式媒体源，这是因为浏览器在对标准音频和视频解码器的支持上有差异<br>eg:&lt;source src=’music.ogg’&gt;<span style="color:red;">该标签无内容，不需闭合！</span></li>
<li>有Audio()构造函数支持音频缓存,但无Video()构造函数</li>
<li>一些属性与方法<ul>
<li>play()/pause():控制播放与暂停</li>
<li>canPlayType(‘媒体MIME类型,eg:audio/wav’):测试能否播放指定类型媒体文件，不能返回空值，可以返回</li>
<li>currentTime：单位秒，指定播放器应跳过播放的时间</li>
<li>volume:值在0~1之间，播放音量</li>
<li>muted：bool值，true为静音</li>
<li>controls,loop,preload,autoplay属性：也可做HTML属性，controls,loop,autoplay均为bool值，preload表示开始播放前是否预加载，加载多少内容，值为none不预加载/metadata元数据需加载（默认）/data预加载浏览器认为适量的内容</li>
<li>一些只读属性：用来查询bool值<ul>
<li>pause:是否暂停</li>
<li>seeking：是否跳至新播放点</li>
<li>initialTime：媒体开始时间，单位秒，一般为0</li>
<li>ended：是否播完</li>
<li>duration：媒体时长，单位秒</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript学习笔记/">javascript学习笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-《javascript权威指南》学习笔记（10）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/05/《javascript权威指南》学习笔记（10）/" class="article-date">
      <time datetime="2016-07-05T02:53:43.000Z" itemprop="datePublished">2016-07-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/05/《javascript权威指南》学习笔记（10）/">《javascript权威指南》学习笔记（10）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="脚本化HTTP篇"><a href="#脚本化HTTP篇" class="headerlink" title="脚本化HTTP篇"></a>脚本化HTTP篇</h1><p><img src="http://o6yo3ducz.bkt.clouddn.com/javascript-book-cover.jpg" title="javascript权威指南" width="200px"></p>
<p>HTTP：规定了Web浏览器如何从Web服务器获取文档，向Web服务器提交表单内容，Web服务器如何相应这些请求和提交（我的理解就是Web浏览器和服务器之间的交互）</p>
<h3 id="lt-img-gt-lt-script-gt-lt-iframe-gt-的src属性为url时会发起http的GET请求"><a href="#lt-img-gt-lt-script-gt-lt-iframe-gt-的src属性为url时会发起http的GET请求" class="headerlink" title="&lt;img&gt;,&lt;script&gt;,&lt;iframe&gt;的src属性为url时会发起http的GET请求"></a>&lt;img&gt;,&lt;script&gt;,&lt;iframe&gt;的src属性为url时会发起http的GET请求</h3><h3 id="Ajax特点："><a href="#Ajax特点：" class="headerlink" title="Ajax特点："></a>Ajax特点：</h3><p>使用脚本操纵HTTP和Web服务器进行数据交换，不会导致页面重载</p>
<h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h3><ul>
<li>XMLHttpRequest对象不可跨域，通过JSONP实现跨域</li>
<li>P代表函数名包裹/填充数据，用JS函数包裹对应响应数据，一般函数名为callback</li>
<li>JSON表明服务器响应必须用JSON格式</li>
<li>XHR2可以通过选择合适的CORS（Cross-origin Resource Sharing）允许跨域，测试XHR.withCredentials可以判断浏览器是否支持<h3 id="JSONP原理"><a href="#JSONP原理" class="headerlink" title="JSONP原理"></a>JSONP原理</h3>&lt;script&gt;可以不受限于同源策略跨域通信，此时服务器响应采用JSON编码的数据格式，故这种Ajax传输协议叫做JSONP<br>Tips：只可用于处理GET请求<h3 id="XMLHttpRequest对象（实现Ajax技术）"><a href="#XMLHttpRequest对象（实现Ajax技术）" class="headerlink" title="XMLHttpRequest对象（实现Ajax技术）"></a>XMLHttpRequest对象（实现Ajax技术）</h3>定义了用脚本操纵Http的API，包含GET请求及POST请求的能力，能用文本或document对象的形式返回服务器响应<h3 id="与Ajax同类的Comet技术"><a href="#与Ajax同类的Comet技术" class="headerlink" title="与Ajax同类的Comet技术"></a>与Ajax同类的Comet技术</h3></li>
<li>在Comet中，web服务器发起通信并异步发送消息到客户端，若web应用需响应服务端，会使用Ajax技术发送、请求数据</li>
<li>Tips：Ajax中浏览器从服务器“拉”数据，Comet中服务器向浏览器“推”数据<h3 id="XMLHttpRequest对象实现Ajax请求"><a href="#XMLHttpRequest对象实现Ajax请求" class="headerlink" title="XMLHttpRequest对象实现Ajax请求"></a>XMLHttpRequest对象实现Ajax请求</h3>1.实例化XMLHttpRequest：var xhr=new XMLHttpRequest();<br>2.调用其open()方法：xhr.open(‘method’,’url’,<del>bool</del>);<ul>
<li>method参数为http请求方式，GET/POST，不区分大小写，但一般大写</li>
<li>url为请求地址，跨域会报错</li>
<li>bool为一个可选参数，是否异步，设为false会同步，但同步时send()会阻塞UI一般不用<br>3.若为POST方式需设置请求头以方便服务器正常解码：xhr.setRequestHeader(‘content-Type’,’xxx’);<br>４.监听readystate：<pre><br>xhr.onreadystatechange=function (){<br>if(xhr.readystate==4&amp;&amp;xhr.status==200){<br>//请求完成不一定成功，xhr.status==200才成功<br>response……<br>}<br>}</pre><br>5.向服务器发送可选请求体：xhr.send();</li>
</ul>
</li>
<li>这一步才会启动网络，发送请求</li>
<li>GET方式无请求体，POST方式有请求体,可携带请求体参数</li>
<li>发送请求后，会返回响应response<h3 id="XMLHttpRequest对象的响应"><a href="#XMLHttpRequest对象的响应" class="headerlink" title="XMLHttpRequest对象的响应"></a>XMLHttpRequest对象的响应</h3></li>
<li>完整的http响应由状态码，响应头，响应主体组成</li>
<li>响应返回后，有一系列响应属性生效。此时为在响应返回时得到通知，要监听readystate事件</li>
<li>响应属性如下：<ul>
<li>status/statusText：以数字/文本形式返回http状态码</li>
<li>responseText/responseXML：响应主体文本/Document形式</li>
<li>getResponseHeader()/getAllResponseHeader():查询响应头</li>
</ul>
</li>
<li>readystate属性：代表http请求状态<ul>
<li>0：open()未调用</li>
<li>1：open()以调用</li>
<li>2：收到响应头</li>
<li>3：收到响应体</li>
<li>4：响应完成</li>
<li>Tips:理论上每次改变都会触发事件，但实际上不同浏览器有差别0、1一般不触发，4所有浏览器都会触发<h3 id="http请求无法完成的触发事件"><a href="#http请求无法完成的触发事件" class="headerlink" title="http请求无法完成的触发事件"></a>http请求无法完成的触发事件</h3></li>
</ul>
</li>
<li>timeout：超时触发事件</li>
<li>abort：请求中止触发事件</li>
<li>error：重定向太多阻止请求触发事件<h3 id="中止请求"><a href="#中止请求" class="headerlink" title="中止请求"></a>中止请求</h3></li>
<li>如果用户在指定时间内还没有输入字符，应中止表单请求</li>
<li>abort()方法取消正在进行的HTTP请求<h3 id="编码请求主体"><a href="#编码请求主体" class="headerlink" title="编码请求主体"></a>编码请求主体</h3></li>
<li>url编码：<ul>
<li>POST方式提交表单要进行URL编码，即16进制转义码替换特殊字符，’=’分开名字和值，’&amp;’分开名值对</li>
<li>对表单数据有正式的请求头，’content-Type’为’application/x-www-form-unlencoded’</li>
<li>将名值对用encodeURIComponent(‘xxx’);编码</li>
</ul>
</li>
<li>JSON编码<ul>
<li>JSON.stringify(‘xxx’);编码</li>
<li>JSON.parse(‘xxx’);解码</li>
</ul>
</li>
<li>上传文件<ul>
<li>POST请求发送文件内容时，type=’file’时有files属性，它是File对象的类数组对象</li>
<li>XHR2允许在send()中传入File对象实现上传文件。文件类型为二进制大对象（Blob）的子类型</li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript学习笔记/">javascript学习笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-《javascript权威指南》学习笔记（9）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/14/《javascript权威指南》学习笔记（9）/" class="article-date">
      <time datetime="2016-06-14T14:05:20.000Z" itemprop="datePublished">2016-06-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/14/《javascript权威指南》学习笔记（9）/">《javascript权威指南》学习笔记（9）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="event事件对象篇"><a href="#event事件对象篇" class="headerlink" title="event事件对象篇"></a>event事件对象篇</h1><p><img src="http://o6yo3ducz.bkt.clouddn.com/javascript-book-cover.jpg" title="javascript权威指南" width="200px"></p>
<p><div style="font-size:20px;">event代表事件状态，例如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态等</div></p>
<p><div style="color:red;font-size:20px;">event对象只在事件发生的过程中才有效！</div></p>
<h3 id="事件概述"><a href="#事件概述" class="headerlink" title="事件概述"></a>事件概述</h3><p><img src="http://o6yo3ducz.bkt.clouddn.com/event.jpg" width="90%"></p>
<ul>
<li>事件是Web浏览器通知应用程序发生了什么事情</li>
<li>提及事件必须指明事件类型和目标<br>事件类型：说明发生了什么类型事件的字符串<br>时间目标：发生事件的对象或与之相关的对象</li>
<li>事件传播的三个阶段：<ul>
<li>捕获：目标处理程序调用之前，沿DOM树向下，从外向内捕获</li>
<li>目标对象本身的事件处理程序调用</li>
<li>冒泡：文档元素上发生某类型事件时会沿DOM树向上冒泡，当前DOM直到&lt;body&gt;,再到document，再到window<h3 id="注册事件处理程序"><a href="#注册事件处理程序" class="headerlink" title="注册事件处理程序"></a>注册事件处理程序</h3></li>
</ul>
</li>
<li><code>addEventListener(&#39;eventType&#39;,function,~~bool~~)</code>:三个参数为事件类型，发生时执行的函数，是否为捕获阶段（可省略，默认false）<br>IE9前使用<code>attachEvent(&#39;oneventType&#39;,function);</code>（tips:这里function中this指向window，<code>addEventListener()</code>中this指向事件目标）<br>可为同一事件注册多个函数，执行时会按注册顺序调用；<br>参数相同的情况下多次调用<code>addEventListener()</code>只注册一次</li>
<li>通过JS中对应属性设置：事件处理程序属性名称由”on”+”eventType”组成，全部小写</li>
<li>通过HTML属性设置：事件处理程序属性名称由”on”+”eventType”组成，全部小写。但为保持内容与行为分离，不应采用这种方式<h3 id="事件移除与取消"><a href="#事件移除与取消" class="headerlink" title="事件移除与取消"></a>事件移除与取消</h3></li>
<li>移除：<code>removeEventListener(&#39;eventType&#39;,function,~~bool~~)</code>参数必须和注册时相同</li>
<li>设置HTML属性注册事件处理程序，将返回值置为false，浏览器会取消默认行为，但这只对属性注册的程序有效</li>
<li>取消事件默认行为：<code>preventDefault()</code></li>
<li>阻止事件传播：<code>stopPropagation()</code>,可在传播期间任何时间调用<br>IE9以下不支持，通过将cancelBuble置为true阻止<h3 id="事件处理程序执行环境为其定义时的作用域，而不是调用时的作用域；但HTML属性中的事件处理程序会被转为能存取全局变量的顶级函数"><a href="#事件处理程序执行环境为其定义时的作用域，而不是调用时的作用域；但HTML属性中的事件处理程序会被转为能存取全局变量的顶级函数" class="headerlink" title="事件处理程序执行环境为其定义时的作用域，而不是调用时的作用域；但HTML属性中的事件处理程序会被转为能存取全局变量的顶级函数"></a>事件处理程序执行环境为其定义时的作用域，而不是调用时的作用域；但HTML属性中的事件处理程序会被转为能存取全局变量的顶级函数</h3><h3 id="事件处理程序的调用顺序"><a href="#事件处理程序的调用顺序" class="headerlink" title="事件处理程序的调用顺序"></a>事件处理程序的调用顺序</h3></li>
<li>通过JS对应属性及HTML属性注册的程序优先调用</li>
<li><code>addEventListener()</code>按注册顺序调用</li>
<li><code>attachEvent()</code>可能按任意顺序调用<h3 id="事件传播"><a href="#事件传播" class="headerlink" title="事件传播"></a>事件传播</h3></li>
<li>三个阶段：捕获、事件处理程序调用、冒泡</li>
<li>当需要在大量单独的文档元素上注册处理程序时，可在其共同的祖先元素上注册</li>
<li>特殊冒泡行为：<ul>
<li>focus,blur,scroll不冒泡</li>
<li>load冒泡至document对象停止，文档全部加载完才会冒泡至window对象</li>
</ul>
</li>
<li>捕获常用于处理鼠标拖放，因为拖放目标不能是元素内部的子元素<h3 id="文档加载事件"><a href="#文档加载事件" class="headerlink" title="文档加载事件"></a>文档加载事件</h3></li>
<li>load:直到文档和所有图片加载完毕才发生（load发生前触发脚本可以提升web应用启动时间）</li>
<li>DOMContentLoaded：文档加载完毕且所有延迟脚本执行完毕触发</li>
<li>readystatechange：状态改变触发，在load事件前触发<h3 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h3></li>
<li>click：按下并释放鼠标按键时触发</li>
<li>contextmenu：单击鼠标右键上下文菜单即将出现时触发，可取消默认行为</li>
<li>dbclick：双击鼠标触发</li>
<li>mousedown：按下鼠标按键时触发</li>
<li>mouseup：释放鼠标按键时触发</li>
<li>mouseout：离开元素时触发（mouseleave为不冒泡的mouseout）</li>
<li>mouseover：进入元素悬停时触发（mouseenter为不冒泡的mouseover）</li>
<li>mousemove：移动鼠标时触发</li>
<li>tips：<br>传递给鼠标事件的event对象有clientX,clientY属性，指示鼠标位置的窗口坐标<br>event对象有altkey,ctrlkey,shiftkey,metakey等属性指定鼠标事件发生时该键有没有按下<h3 id="鼠标滚轮事件"><a href="#鼠标滚轮事件" class="headerlink" title="鼠标滚轮事件"></a>鼠标滚轮事件</h3></li>
<li>mousewheel:默认滚动或缩放文档，可阻止默认操作<br>传递给事件处理程序的事件对象event有wheelDelta属性，指定滚轮有多远<br>Firefox中用DOMMouseScroll取代mousewheel，用detail取代wheelDelta<h3 id="文本事件"><a href="#文本事件" class="headerlink" title="文本事件"></a>文本事件</h3></li>
<li>keydown:按下键盘（包括辅助键、功能键、字母数字键）</li>
<li>keypress:keydown产生可打印字符时，在keydown和keyup之间触发，文本真正插入前触发，表输入单个字符（可能需用string.fromCharCode()转为字符串才生效）</li>
<li>keyup:键盘释放（包括辅助键、功能键、字母数字键）</li>
<li>textinput：无论何时用户输入文本都会触发，不管来源（有兼容性问题）</li>
<li>相关event对象有keycode属性，指定按下的键是哪个<ul>
<li>可打印字符keycode值为unicode编码</li>
<li>字母键keycode值总为大写</li>
</ul>
</li>
<li>相关event对象有altkey,ctrlkey,shiftkey,metakey属性，事件发生时对应辅助键按下值为true<h3 id="事件处理程序定义时要传入参数e代表event对象！"><a href="#事件处理程序定义时要传入参数e代表event对象！" class="headerlink" title="事件处理程序定义时要传入参数e代表event对象！"></a>事件处理程序定义时要传入参数e代表event对象！</h3><h3 id="event对象的target属性：触发事件的元素（IE下为srcElement属性）"><a href="#event对象的target属性：触发事件的元素（IE下为srcElement属性）" class="headerlink" title="event对象的target属性：触发事件的元素（IE下为srcElement属性）"></a>event对象的target属性：触发事件的元素（IE下为srcElement属性）</h3><h3 id="event对象的currentTarget属性：事件绑定的节点"><a href="#event对象的currentTarget属性：事件绑定的节点" class="headerlink" title="event对象的currentTarget属性：事件绑定的节点"></a>event对象的currentTarget属性：事件绑定的节点</h3><h3 id="以上两者在事件委托时不同（事件委托-事件代理：利用事件会冒泡到父节点，通过父节点监听事件，再判断是父节点下哪个节点触发，做相应处理）"><a href="#以上两者在事件委托时不同（事件委托-事件代理：利用事件会冒泡到父节点，通过父节点监听事件，再判断是父节点下哪个节点触发，做相应处理）" class="headerlink" title="以上两者在事件委托时不同（事件委托/事件代理：利用事件会冒泡到父节点，通过父节点监听事件，再判断是父节点下哪个节点触发，做相应处理）"></a>以上两者在事件委托时不同（事件委托/事件代理：利用事件会冒泡到父节点，通过父节点监听事件，再判断是父节点下哪个节点触发，做相应处理）</h3>一个事件委托的例子：<pre><br>window.onload=function (){<br>var oUL=document.getElementById(‘ul’);<br>oUL.addEventListener(‘mouseover’,overFun,false);<br>oUL.addEventListener(‘mouseout’,outFun,false);<br>function overFun(e){<br>  var e=e||window.e;<br>  var target=e.target||e.srcElement  //兼容IE<br>  if(target.nodeName.toLowerCase()==’li’){<pre><code>target.style.background=&apos;red&apos;;
</code></pre>  }<br>}<br>function outFun(e){<pre><code>var e=e||window.e;
var target=e.target||e.srcElement  //兼容IE
if(target.nodeName.toLowerCase()==&apos;li&apos;){
  target.style.background=&apos;yellowgreen&apos;;
}
</code></pre>  }<br>}<br></pre></li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript学习笔记/">javascript学习笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 D_d
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 5;
			var num=Math.ceil(Math.random() * backgroundnum);
			var backgroundimg;
			if(num==1){
			  backgroundimg = "url(/background/bg-x.JPG)".replace(/x/gi, num);
			  //莫名其妙！！！第一张图后缀大写？？？
			}else{
			  backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, num);
			}
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>