<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>D_d</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="这里是丁丁的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="D_d">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="D_d">
<meta property="og:description" content="这里是丁丁的博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="D_d">
<meta name="twitter:description" content="这里是丁丁的博客">
  
    <link rel="alternative" href="/atom.xml" title="D_d" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">D_d</a></h1>
        </hgroup>

        
        <p class="header-subtitle">——Welcome to D_d&#39;s Blog!——</p>
        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">首页</a></li>
                        
                            <li><a href="/archives">归档</a></li>
                        
                            <li><a href="/">关于生活</a></li>
                        
                            <li><a href="/categories/technology">技术</a></li>
                        
                            <li><a href="/categories/technology/javascript">js</a></li>
                        
                            <li><a href="/categories/technology/css">HTML&amp;CSS</a></li>
                        
                            <li><a href="/categories/plan">哈哈哈计划赶不上变化</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=ek9DTk5OSE1MSzoLC1QZFRc" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/dionyding" title="github">github</a>
                            
                                <a class="fl weibo" target="_blank" href="http://weibo.com/u/2258194143" title="weibo">weibo</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/about工作/" style="font-size: 10px;">about工作</a> <a href="/tags/gulp/" style="font-size: 10px;">gulp</a> <a href="/tags/javascript学习笔记/" style="font-size: 20px;">javascript学习笔记</a> <a href="/tags/work-notes/" style="font-size: 10px;">work notes</a> <a href="/tags/xampp/" style="font-size: 10px;">xampp</a> <a href="/tags/哈哈哈！计划赶不上变化/" style="font-size: 10px;">哈哈哈！计划赶不上变化</a> <a href="/tags/图片格式/" style="font-size: 10px;">图片格式</a> <a href="/tags/百度面试题/" style="font-size: 10px;">百度面试题</a> <a href="/tags/纯css实现多级nav/" style="font-size: 10px;">纯css实现多级nav</a> <a href="/tags/纯css画三角形/" style="font-size: 10px;">纯css画三角形</a> <a href="/tags/闭包和作用域/" style="font-size: 10px;">闭包和作用域</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://congyingtech.github.io/">mohnTech</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://missxing.github.io/">missXing</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">爱生活，爱旅行，爱摄影，爱前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">D_d</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">D_d</a></h1>
            </hgroup>
            
            <p class="header-subtitle">——Welcome to D_d&#39;s Blog!——</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">首页</a></li>
                
                    <li><a href="/archives">归档</a></li>
                
                    <li><a href="/">关于生活</a></li>
                
                    <li><a href="/categories/technology">技术</a></li>
                
                    <li><a href="/categories/technology/javascript">js</a></li>
                
                    <li><a href="/categories/technology/css">HTML&amp;CSS</a></li>
                
                    <li><a href="/categories/plan">哈哈哈计划赶不上变化</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=ek9DTk5OSE1MSzoLC1QZFRc" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/dionyding" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="http://weibo.com/u/2258194143" title="weibo">weibo</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-about-20171120" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/11/21/about-20171120/" class="article-date">
      <time datetime="2017-11-20T16:06:16.037Z" itemprop="datePublished">2017-11-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<p>layout: photo<br>title: about 20171120<br>date: 2017-11-20 23:50:28<br>photos:</p>
<ul>
<li><a href="http://o6yo3ducz.bkt.clouddn.com/May-plan.jpeg" target="_blank" rel="external">http://o6yo3ducz.bkt.clouddn.com/May-plan.jpeg</a><br>categories: plan<br>tags: ���������ƻ��ϲ��ϱ仯</li>
</ul>
<hr>
<h1 id="D-d�����������е㲻����"><a href="#D-d�����������е㲻����" class="headerlink" title="D_d�����������е㲻����"></a>D_d�����������е㲻����</h1><p>–�������Ҹ���ʱ���������ͻ����㵱ͷһ�������ֲ�����⧲�����</p>
<pre><code>����һ�����ս���ȥ�İ����ɣ��������ĺ��Ҹ�����һ���ж࿪�ķ��־ͻ��ж಻���ġ����ѹ������������θ����Լ����°ɣ���ȥ�ɣ����������ˣ����ֺο��ء��������ƺ��Լ��չ黹�ǷŲ��¡������Ǻ�����������������������һ���������ǻ��εģ������Ǽ�����������û��ƭ�Լ�����
��Ȼ�Ų��£��Ǿ�ִ�Ų����°ɣ�˳����Ȼ��һ�ж������õİ��Űɡ�Ҳ����һ������������ͬ���ء�����Ц����������Ȼ���Լ��������ţ������Ҿ��ǲ����ĵı��Ž�������������
������Ҫȥ���ɣ��벻ͨ��ͣ�������ɡ���̯�֡�����֪���Ҿ���������ʲô��������һ��Ű�������ж������ж�Ű����̯�֡�������û�취����˭���Ҹ������ء���
At last��ף���Ҹ���~ף�����Ҹ���~Ц��������
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-工作笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/11/20/工作笔记/" class="article-date">
      <time datetime="2017-11-20T15:38:04.000Z" itemprop="datePublished">2017-11-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/20/工作笔记/">工作笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="气球活动的总结"><a href="#气球活动的总结" class="headerlink" title="气球活动的总结"></a>气球活动的总结</h2><p>1.关于canvas：</p>
<ul>
<li>canvas标签的width与height必须设定，会以此来换算画布坐标</li>
<li>实际的显示可在canvas的样式中设定以做自适应，但宽高比例须要与width、height一致，否则会有拉伸，类似图片的样式宽高与实际宽高比例不同会拉伸，图片模糊</li>
<li>要改变画笔使用颜色，只需要在新路径beginPath，设定新颜色即可</li>
<li>canvas元素外包一个div可阻止有position定位时元素下方莫名其妙多了几像素空行的问题</li>
</ul>
<p>2.随机打乱数组的算法：</p>
<ul>
<li>思想为从最末尾的数组元素开始，与其前面的某随机生成index值的元素交换位置，直至index为1的元素与index为0的元素交换位置，这样做可以保证每一个元素都随机交换过，其交换概率均等，处于不同位置的概率均等</li>
<li>代码如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">randomArr(arr) &#123;</span><br><span class="line">    for (let i = (arr.length - 1); i &gt; 0; i--) &#123;</span><br><span class="line">      let random = Math.floor(Math.random() * i);</span><br><span class="line">      let param = arr[random];</span><br><span class="line">      arr[random] = arr[i];</span><br><span class="line">      arr[i] = param;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>3.关于touch事件</p>
<ul>
<li>touchstart事件会先于click事件触发，touchmove存在则不为click事件为touch事件，不存在为click事件</li>
<li>touch事件的touchList数组有三个：changedTouches，targetTouches，touches<ul>
<li>changedTouches列出发生改变的接触点的Touch对象：<br>1.对touchstart事件，touchList列出新增触点<br>2.对touchmove事件，touchList列出发生改变的触点<br>3.对touchend事件，touchList列出离开屏幕的触点</li>
<li>targetTouches列出从当前element触发的接触点的Touch对象（touchstart须从当前element触发）</li>
<li>touches列出所有屏幕接触点的Touch对象（touchstart从任何element触发）<br>—————————–tu</li>
</ul>
</li>
<li>changedTouches，targetTouches，touches的touchList对象包含的参数相同，说明：<ul>
<li>clientX：触摸目标在视口中的x坐标。</li>
<li>clientY：触摸目标在视口中的y坐标。</li>
<li>identifier：标识触摸的唯一ID。</li>
<li>pageX：触摸目标在页面中的x坐标。</li>
<li>pageY：触摸目标在页面中的y坐标。</li>
<li>screenX：触摸目标在屏幕中的x坐标。</li>
<li>screenY：触摸目标在屏幕中的y坐标。</li>
<li>target：触目的DOM节点目标。</li>
<li>force：压力大小（0.0无压力，1.0最大压力）。</li>
<li>radiusX,radiusY,rotationAngle：监测手指的椭圆形用(16年safari及微信内置浏览器都不支持这些属性，chrome模拟器可以，现在不确定)。</li>
</ul>
</li>
<li>touchcancel：系统停止跟踪触摸时触发<br>——————tu</li>
</ul>
<p>4.关于immutable:<br>React只要setState就会触发render重新渲染，可引入immutable比对两次状态若未改变就阻止重新渲染（shouldComponentUpdate中return false，只有首次渲染和forceUpdate会重新渲染）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">shouldComponentUpdate(nextProps, nextState) &#123;</span><br><span class="line">    /*selected参数不改变时不需重新渲染*/</span><br><span class="line">    return !Immutable.is(this.state.selected, nextState.selected);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<p>5.下拉刷新：<br>下拉刷新的交互在IOS中会导致页面也被拉动，在touch事件中通过e.preventDefault()来禁止，但要注意保留需要的touch事件动作</p>
<p>6.关于setTimeout：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(()=&gt;&#123;console.log(1)&#125;, 0);</span><br><span class="line">Promise.resolve(2).then((val)=&gt;&#123;console.log(val)&#125;);</span><br></pre></td></tr></table></figure></p>
<p>代码执行结果为输出2，0。<br>现有的 JavaScript 引擎是单线程处理任务的。它把任务放到队列中，不会同步去执行，必须在完成一个任务后才开始另外一个任务。均为异步但setTimeout对应部分会在浏览器执行下一队列最开始执行，而Promise对应会在本次队列执行。setTimeout可以把任务从某个队列中跳脱成为新队列。</p>
<ul>
<li>tips:<ul>
<li>HTML5标准规定了setTimeout()的第二个参数的最小值（最短间隔），不得低于4毫秒，如果低于这个值，就会自动增加。另外，对于那些DOM的变动（尤其是涉及页面重新渲染的部分），通常不会立即执行，而是每16.7(1000/60即：1s60帧看起来动画比较顺滑)毫秒执行一次（这也是为何setTimeout的定时器值推荐最小使用16.7ms的原因，小于此可能会丢帧）。这时使用requestAnimationFrame()的效果要好于setTimeout()。</li>
<li>window.requestAnimationFrame(callback)在下次重绘时产生另一个动画画面，跟着浏览器的绘制走，如果浏览设备绘制间隔是16.7ms，就这个间隔绘制；如果浏览设备绘制间隔是10ms, 就10ms绘制。这样就不会存在过度绘制的问题，动画不会掉帧，自然流畅。但其兼容性一般，使用需谨慎。</li>
</ul>
</li>
</ul>
<p>7.关于Promise：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Promise.reject(2).then((v) =&gt; &#123;</span><br><span class="line">  console.log(&apos;reject:&apos; + v);</span><br><span class="line">  &#125;,(v)=&gt;&#123;console.log(&apos;reject:&apos;+v);&#125;).then(()=&gt;&#123;</span><br><span class="line">  console.log(2.1);</span><br><span class="line">  &#125;,()=&gt;&#123;console.log(2.2);&#125;)</span><br></pre></td></tr></table></figure></p>
<p>上述代码结果输出reject:2, 2.1<br>在链式调用Promise对象时，第一个then方法中跳入reject对应函数，但在下一次then方法中会进入resolve对应函数，故链式调用时在结尾用catch方法捕获reject及error较好！！！</p>
<p>8.rax项目中向View中传入store：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class FragmentSheet extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    let props = this.props;</span><br><span class="line">    let extendStyle = props.style;</span><br><span class="line">    this.sheetStore = this.sheetStore || new Store(props.gameId);</span><br><span class="line"></span><br><span class="line">    return (&lt;View style=&#123;style.sheetWrap&#125;&gt;</span><br><span class="line">      &lt;View style=&#123;[style.sheetBorder, extendStyle.sheetBorder]&#125; /&gt;</span><br><span class="line">      &lt;Header store=&#123;this.sheetStore&#125; imgStyle=&#123;style.sheetImgStyle&#125; /&gt;</span><br><span class="line">      &lt;FragmentListView store=&#123;this.sheetStore&#125; /&gt;</span><br><span class="line">      &lt;View style=&#123;style.sheetButton&#125; onClick=&#123;props.onButtonClick&#125;&gt;试试手气&lt;/View&gt;</span><br><span class="line">    &lt;/View&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>第五行中存入this.sheetStore中会比在constructor中使用全局变量存储sheetStore好一些，不会污染全局命名空间</p>
<p>9.rax项目中要使用显示省略号的属性text-overflow，需要配合Text标签的numberOfLine属性一起使用，文档中的lines属性可能有误。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a><a class="article-category-link" href="/categories/technology/javascript/工作总结/">工作总结</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/about工作/">about工作</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Promise对象" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/11/21/Promise对象/" class="article-date">
      <time datetime="2016-11-21T06:02:52.000Z" itemprop="datePublished">2016-11-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/21/Promise对象/">Promise对象</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>#</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a><a class="article-category-link" href="/categories/technology/javascript/客户端存储/">客户端存储</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ES6/">ES6</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-《javascript权威指南》学习笔记（14）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/08/《javascript权威指南》学习笔记（14）/" class="article-date">
      <time datetime="2016-08-08T12:26:51.000Z" itemprop="datePublished">2016-08-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/08/《javascript权威指南》学习笔记（14）/">《javascript权威指南》学习笔记（14）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="客户端存储篇"><a href="#客户端存储篇" class="headerlink" title="客户端存储篇"></a>客户端存储篇</h1><p><img src="http://o6yo3ducz.bkt.clouddn.com/javascript-book-cover.jpg" title="javascript权威指南" width="200px"></p>
<h1 id="——客户端存储遵循“同源策略”，但同一站点的不同页面之间可以共享存储数据，这提供了一种通信机制"><a href="#——客户端存储遵循“同源策略”，但同一站点的不同页面之间可以共享存储数据，这提供了一种通信机制" class="headerlink" title="——客户端存储遵循“同源策略”，但同一站点的不同页面之间可以共享存储数据，这提供了一种通信机制"></a>——客户端存储遵循“同源策略”，但同一站点的不同页面之间可以共享存储数据，这提供了一种通信机制</h1><h3 id="localStorage与sessionStorage"><a href="#localStorage与sessionStorage" class="headerlink" title="localStorage与sessionStorage"></a>localStorage与sessionStorage</h3><ul>
<li>代表storage对象，本质为一个持久化关联数组，有些数据类型的存储需要序列化</li>
<li>区别：主要区别在于存储期于作用域<ul>
<li>存储期：<ul>
<li>localStorage存储数据为永久性的，除非Web应用或用户删除，否则一直存在于用户计算机永不过期</li>
<li>sessionStorage存储的数据一旦标签页被关闭，数据也被删除</li>
</ul>
</li>
<li>作用域：<ul>
<li>localStorage限定于文档源级别，同源才可共享、覆盖，且受浏览器种类限制，不同浏览器打开同一页面不可共享localStorage</li>
<li>sessionStorage限定于文档源级别且限定于窗口级别，受同源策略限制且不同标签页不共享数据。但窗口指顶级窗口，同一页面下的iframe标签可共享数据</li>
</ul>
</li>
</ul>
</li>
<li>API：<ul>
<li>setItem(…):传入名值存储<ul>
<li>JSON对象设置值时用这种方法可以避免修改了副本未修改原对象<br>eg:localStorage.o={X:1};<br>localStorage.o.x=0;<br>localStorage.o.x; //1</li>
</ul>
</li>
<li>getItem(…):传入名字获取对应值</li>
<li>removeItem(…):传入名字删除数据</li>
<li>clear():清空所有变量</li>
<li>length,key(“name”):枚举</li>
</ul>
</li>
<li>存储事件onstorage<ul>
<li>firefox不支持</li>
<li>数据改变（不包括置相同名值对及删除不存在名值对）时，其他对该数据可见的窗口对象上会触发该事件，对数据进行改变的窗口对象上不触发</li>
<li>localStorage存储事件采用广播机制<h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3></li>
</ul>
</li>
<li>web浏览器通过cookie存储少量数据（localStorage与sessionStorage存储的数据量大一些），初衷是为服务端脚本存储少量数据</li>
<li>任何以cookie形式存储的数据，不论服务器端是否需要，每一次HTTP请求都会把数据传至服务器端</li>
<li>检测cookie是否启用：navigator.cookieEnable，返回true/false</li>
<li>JS的cookie没有使用任何加密机制，是不安全的</li>
<li>每个cookie都可以设定有效期和作用域<ul>
<li>有效期：默认关闭浏览器丢失，可通过max-age属性设定，单位s，但必须明确有多长。设置了有效期会将cookie存储在一个文件中，过了有效期才删除</li>
<li>作用域：通过文档源（domain属性）和文档路径（path属性）来确定<ul>
<li>domain默认到当前主机名。eg:”example.com”(该域下任何服务器可见，www.example.com与catalog.example.com均可见)</li>
<li>path置为”/“全域可见，”/catalog”只有catalog目录下可见</li>
</ul>
</li>
</ul>
</li>
<li>secure属性：<ul>
<li>bool值，表明cookie以何种形式在网络传递</li>
<li>默认false不安全，置为安全则必须通过https等安全协议传递</li>
</ul>
</li>
<li>访问与设置<ul>
<li>cookie值为字符串形式的name=value,分号分隔，值采用enCodeURIComponent()编码，其中可以包括”path=…;domain=…;secure…”</li>
<li>改变cookie值必须在相同的名字、域、路径下重置，删除也一样且要max-age置0</li>
<li>访问通过document.cookie访问，除解码外可能还需要JSON.parse()</li>
<li>document.lastModified 返回最后修改时间</li>
</ul>
</li>
<li>局限：<ul>
<li>某时间段时，有些浏览器有上限300条cookie，有的限制单个大小不可超过4KB<h3 id="IE下可通过userData实现客户端存储"><a href="#IE下可通过userData实现客户端存储" class="headerlink" title="IE下可通过userData实现客户端存储"></a>IE下可通过userData实现客户端存储</h3></li>
</ul>
</li>
<li>原理为给元素添加userData行为，便可save(),load()<h3 id="离线web应用存储（除非手动删除，否则一直存在）"><a href="#离线web应用存储（除非手动删除，否则一直存在）" class="headerlink" title="离线web应用存储（除非手动删除，否则一直存在）"></a>离线web应用存储（除非手动删除，否则一直存在）</h3>1.创建.appcache文件，将需下载的文件列一个清单在其中<br>eg:<pre><br>CACHE MANIFEST<br>#注释<br>CACHE:<br>myapp.html<br>myapp.css<br>myapp.js<br>images/<br>……<br>NETWORK：<br>#其中的内容总从网络获取不缓存（支持*）<br>#一般内容为url前缀<br>cgi/<br>……<br>FALLBACK：<br>#每行2个url，第一个为前缀，第二个为需要加载的资源<br>#任何匹配前缀的url都不会缓存而从网络加载，加载失败会以第二个url的缓存代替<br>/videos help.html<br></pre><br>2.&lt;html&gt;加manifest属性指向清单文件<br>3.更新通过清单加版本号实现<br><pre><br>CACHE MANIFEST<h1 id="myapp-version-1-更改数字会重新下载"><a href="#myapp-version-1-更改数字会重新下载" class="headerlink" title="myapp version 1 (更改数字会重新下载)"></a>myapp version 1 (更改数字会重新下载)</h1></pre><br>4.更多深刻内容见20章 20.4</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a><a class="article-category-link" href="/categories/technology/javascript/客户端存储/">客户端存储</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript学习笔记/">javascript学习笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-百度面试的总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/27/百度面试的总结/" class="article-date">
      <time datetime="2016-07-27T12:33:13.000Z" itemprop="datePublished">2016-07-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/27/百度面试的总结/">百度面试的总结</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="绝对居中"><a href="#绝对居中" class="headerlink" title="绝对居中"></a>绝对居中</h3><p><div style="width:200px;height:200px;border:1px solid yellowgreen;">.div1<br>  <div style="width:100px;height:100px;border:1px solid yellowgreen;margin:33px auto">.div2</div><br></div></p>
<ul>
<li>方式1：<pre><br>.div1{<br>position:relative;<br>}<br>.div2{<br>position:absolute;<br>margin:auto;        //这里是auto，初衷就是为上下左右都居中设定的<br>top:0;<br>bottom:0;<br>left:0;<br>right:0;<br>}<br></pre>貌似原理是top,bottom,left,right全部置0后浏览器会重新分配位置，此时margin:auto就会生效，上下与左右都会居中</li>
<li>方式2：使用translate（x,y）设置<pre><br>.div1{<br>position:relative;<br>}<br>.div2{<br>position:absolute;<br>width:200px;<br>top:50%;<br>left:50%;<br>transform：translate(-50%，-50%);    //这里translate会基于自身宽度而不是父元素宽度乘以百分比<br>}</pre><h3 id="IE盒模型与标准盒模型的区别"><a href="#IE盒模型与标准盒模型的区别" class="headerlink" title="IE盒模型与标准盒模型的区别"></a>IE盒模型与标准盒模型的区别</h3></li>
<li>IE盒模型：width包括了border,padding,content的宽度</li>
<li>标准盒模型：width为content的宽度<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3></li>
<li>要求：父类parent，具有firstname，bigEyes属性及getFirstname方法；子类child继承父类的firstName，bigEyes,getFirstname方法之外，具有age属性及getAge方法</li>
<li>代码：<pre><br>//父类parent<br>function parent(firstname,bigEyes){<br>this.firstname=firstname;<br>this.bigEyes=bigEyes;<br>this.getFirstname=function (){<br> return this.firstname;<br>}<br>}<br>//子类child<br>function child(firstname,bigEyes,age){<br>this.prototype=parent(firstname,bigEyes);<br>this.age=age;<br>this.getAge=function (){<br> return this.age;<br>}<br>}<br></pre><h3 id="识别设备"><a href="#识别设备" class="headerlink" title="识别设备"></a>识别设备</h3></li>
<li>使用window.navigator.userAgent.toLowerCase().indexOf(“iphone/android”)&gt;-1</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/日常的问题/">日常的问题</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/百度面试题/">百度面试题</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-工作的总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/27/工作的总结/" class="article-date">
      <time datetime="2016-07-27T12:32:50.000Z" itemprop="datePublished">2016-07-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/27/工作的总结/">工作的总结2017\07\27</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="表格的问题"><a href="#表格的问题" class="headerlink" title="表格的问题"></a>表格的问题</h3><ul>
<li>一个单元格内的文本内容过长，没有换行而是文本内容叠在了一行</li>
<li>尝试：word-wrap/word-break，加高高度，单元格占两行等都无果</li>
<li>解决：师傅告诉我两种方案<br>1.&lt;td&gt;下套&lt;div&gt;——这是个万能方案←_←<br>2.&lt;td&gt;的高度与line-height高度相同导致这种问题——果然是这个原因</li>
<li>表格一般能不用就尽量少用了，样式限定好多啊……实在要用可用bootstrap写表格(Bootstrap属于前端UI库，通过现成的UI组件能够迅速搭建前端页面)<h3 id="移动端头部"><a href="#移动端头部" class="headerlink" title="移动端头部"></a>移动端头部</h3></li>
<li>一定要加这个&lt;meta name=”viewport” content=”width=device-width, initial-scale=1” /&gt;，不然rem控制的JS会出问题……<h3 id="font-family"><a href="#font-family" class="headerlink" title="font-family"></a>font-family</h3></li>
<li>sans-serif只是内置的英文字体，中文Android用微软雅黑”Microsoft YaHei”,IOS用黑体”SimHei”<h3 id="list-style-image"><a href="#list-style-image" class="headerlink" title="list-style-image"></a>list-style-image</h3></li>
<li>存在兼容性问题，会有浏览器不支持，且不可调整大小，不好用</li>
<li>不如在&lt;li&gt;内部套&lt;span&gt;实现<h3 id="width置为百分比的基准问题"><a href="#width置为百分比的基准问题" class="headerlink" title="width置为百分比的基准问题"></a>width置为百分比的基准问题</h3></li>
<li>会以祖先元素中最近的一个具有明确宽度的元素为基准乘以百分比值，不一定为父元素（明确宽度不包括padding挤出的宽度）<h3 id="CSS优化问题"><a href="#CSS优化问题" class="headerlink" title="CSS优化问题"></a>CSS优化问题</h3></li>
<li>之前会想着尽量少写类，师傅告诉我其实没必要，好的CSS是要尽量方便后续改动，多几个类名的代价还是没什么的</li>
<li>在HTML中可以给一个DOM加多个类也是很清晰的方式</li>
<li>CSS类名之前都用了驼峰命名的方式，其实应该用-拼接的</li>
<li>CSS颗粒化为许多小类是常见方式，看了下百度页面的代码，确实每个CSS类都很短<h3 id="浏览器渲染时script标签问题"><a href="#浏览器渲染时script标签问题" class="headerlink" title="浏览器渲染时script标签问题"></a>浏览器渲染时script标签问题</h3></li>
<li>&lt;script&gt;src中填入url会向服务器请求文件，不等返回继续渲染，返回后立即执行；</li>
<li>&lt;script&gt;中直接写入代码会立即执行</li>
<li>所有具有src属性的标签都不受同源策略限制，如&lt;img&gt;等等<h3 id="JS中的else问题"><a href="#JS中的else问题" class="headerlink" title="JS中的else问题"></a>JS中的else问题</h3></li>
<li>else会匹配最近的if之外的情况，多个if之外的情况使用else if<h3 id="Emmet"><a href="#Emmet" class="headerlink" title="Emmet"></a>Emmet</h3></li>
<li>这是简化写html/css的方式</li>
<li>举个栗子=_=，html:5+tab会插入html基础DOM;li*3+tab会插入3个&lt;li&gt;<h3 id="jquery中的animate"><a href="#jquery中的animate" class="headerlink" title="jquery中的animate()"></a>jquery中的animate()</h3></li>
<li>可传入第三个callback参数做回调函数，callback会在animate动作结束后才执行；</li>
<li>写在animate()同级的动作会因animate()的执行时延而全都发生在动作前，今天因为不知道有callback参数耽误了好所时间-_-!</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/日常的问题/">日常的问题</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/work-notes/">work notes</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-关于图片" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/12/关于图片/" class="article-date">
      <time datetime="2016-07-12T13:45:25.000Z" itemprop="datePublished">2016-07-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/12/关于图片/">关于图片</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>今天了解到一些关于图片的知识<br>png格式:不会压缩图片，支持透明，半透明，不透明<br>jpg格式：存在压缩算法，可通过改变品质改变压缩率，不支持透明，貌似也可以做动效图<br>gif格式：可以做动效图，支持透明，不透明，不支持半透明，IE6及以下貌似不支持该格式</p>
<h3 id="另一个经验：移动端main容器290px宽适配比较科学，不要乱改……"><a href="#另一个经验：移动端main容器290px宽适配比较科学，不要乱改……" class="headerlink" title="另一个经验：移动端main容器290px宽适配比较科学，不要乱改……"></a>另一个经验：移动端main容器290px宽适配比较科学，不要乱改……</h3>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/日常的问题/">日常的问题</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/图片格式/">图片格式</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-工具小常识xampp-gulp" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/12/工具小常识xampp-gulp/" class="article-date">
      <time datetime="2016-07-12T13:27:45.000Z" itemprop="datePublished">2016-07-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/12/工具小常识xampp-gulp/">工具小常识xampp&amp;gulp</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="XAMPP"><a href="#XAMPP" class="headerlink" title="XAMPP"></a>XAMPP</h1><ul>
<li>修改Index指向的内容：<br>在安装目录下的htdocs文件夹下添加指向待添加项目文件夹的链接，注意这里并不是快捷方式，直接创建快捷方式会出错，要在cmd下使用mklink命令创建指向链接（直接在cmd下输入mklink会提示如何输参数）</li>
<li>win8和win10要在管理员权限下运行，Win+x,A</li>
<li>Link路径不能是已经存在的文件夹</li>
</ul>
<hr>
<h1 id="gulp的使用"><a href="#gulp的使用" class="headerlink" title="gulp的使用"></a>gulp的使用</h1><h3 id="一些git上使用的常用命令-安装npm的国内镜像cnpm可以加快速度"><a href="#一些git上使用的常用命令-安装npm的国内镜像cnpm可以加快速度" class="headerlink" title="一些git上使用的常用命令(安装npm的国内镜像cnpm可以加快速度)"></a>一些git上使用的常用命令(安装npm的国内镜像cnpm可以加快速度)</h3><ul>
<li>which gulp/cnmp检查是否安装过</li>
<li>在项目中首次使用gulp要初始化建立json配置文件（package.json），使用cnpm init命令</li>
<li>在项目中首次使用gulp要在项目中局部安装gulp，使用cnpm install gulp –save-dev命令，–save-dev表示在配置文件package.json中保存信息</li>
<li>vim gulpfile.js命令建立gulpfile.js文件并进入vim编辑器以编辑它,在该文件中写入gulp的功能</li>
<li>vim .gitignore命令建立.gitignore文件并进入vim编辑器以编辑它，在该文件中写入提交到仓库时需忽略的文件的相对路径</li>
<li>vim编辑器模式使用ctrl+c命令退出</li>
<li>gulp taskName命令执行写入的操作；也可以在gulpfile.js中定义default默认操作直接使用gulp命令执行一系列定义的操作，但其执行顺序不一定为定义顺序<h3 id="gulpfile-js中的命令"><a href="#gulpfile-js中的命令" class="headerlink" title="gulpfile.js中的命令"></a>gulpfile.js中的命令</h3></li>
<li>头部依赖<ul>
<li>var gulp= require(‘gulp’);</li>
<li>var minify-css= require(‘gulp-minify-css’);  //压缩css</li>
<li>var concat= require(‘gulp-concat’);  //拼接文件</li>
<li>var uglify= require(‘gulp-uglify’);  //压缩JS</li>
<li>var jshint= require(‘gulp-jshint’);  //语法检查</li>
</ul>
</li>
<li>常用函数<ul>
<li>gulp.task(name, fn)定义name任务</li>
<li>gulp.run(tasks…)尽可能多的并行运行多个task</li>
<li>gulp.watch(glob, fn)监听glob，当glob内容发生改变时，执行fn</li>
<li>gulp.src(glob)源文件路径，返回一个可读的stream</li>
<li>gulp.dest(glob)目标文件路径，返回一个可写的stream</li>
</ul>
</li>
<li>两个例子<ul>
<li>移动文件<pre><br>gulp.task(‘move’,function (){return gulp.src([‘../src/<em>*/</em>.<em>‘,’../src/</em>‘])    //src文件夹下所有文件夹下的所有文件及src下的所有文件夹（一个*只代表一层文件）<br>}).pipe(gulp.dest(‘./xxx’));    //pipe()表示进入管道流<br></pre></li>
<li>设置默认命令<pre><br>gulp.task(‘default’,function (){gulp.start([‘task1’,’task2’])});<br></pre><h3 id="最后要检查下移动后的文件数目与源文件数目是否相同！"><a href="#最后要检查下移动后的文件数目与源文件数目是否相同！" class="headerlink" title="最后要检查下移动后的文件数目与源文件数目是否相同！"></a>最后要检查下移动后的文件数目与源文件数目是否相同！</h3></li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/日常的问题/">日常的问题</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gulp/">gulp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/xampp/">xampp</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-《javascript权威指南》学习笔记（13）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/09/《javascript权威指南》学习笔记（13）/" class="article-date">
      <time datetime="2016-07-09T02:30:25.000Z" itemprop="datePublished">2016-07-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/09/《javascript权威指南》学习笔记（13）/">《javascript权威指南》学习笔记（13）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="canvas图形篇"><a href="#canvas图形篇" class="headerlink" title="canvas图形篇"></a>canvas图形篇</h1><p><img src="http://o6yo3ducz.bkt.clouddn.com/javascript-book-cover.jpg" title="javascript权威指南" width="200px"></p>
<p>采用图形状态与绘制指令分离的思想，要定义画布宽高，单位默认为px<br>与svg的区别：canvas通过调用它提供的方法绘图，而svg是通过构建XML树实现，二者可相互模拟</p>
<p><div style="color:red;font-size:18px;"><br>绘制API大多定义在canvasRenderingContext2D对象上而不是&lt;canvas&gt;元素上，画布元素和上下文对象是分开的不同对象！每个&lt;canvas&gt;元素只有一个上下文对象！<br></div><br>例子：<pre><br>var canvas=document.getElementById(‘canvas’);  //画布对象<br>var c=canvas.getContext(‘2d’);  //上下文对象<br></pre></p>
<h3 id="线段与多边形API"><a href="#线段与多边形API" class="headerlink" title="线段与多边形API"></a>线段与多边形API</h3><ul>
<li>c.beginPath():开始定义新路径</li>
<li>c.lineTo(x,y):上次绘制终点与（x,y）点连线</li>
<li>c.closePath():连接终点与起点闭合路径</li>
<li>c.moveTo(x,y):开始新的子路径，（x,y）为起点<h3 id="矩形"><a href="#矩形" class="headerlink" title="矩形"></a>矩形</h3></li>
<li>rect(x,y,width,height):<span style="color:red;">会改变当前路径</span>添加该矩形到当前路径下，（x,y）为左上角顶点</li>
<li>fillRect(x,y,width,height)：<span style="color:red;">不改变当前路径</span>使用当前fillStyle填充矩形</li>
<li>strokeRect(x,y,width,height)：<span style="color:red;">不改变当前路径</span>使用当前strokeStyle填充矩形</li>
<li>clearRect(x,y,width,height):<span style="color:red;">不改变当前路径</span>忽略填充样式，采用透明黑色像素填充矩形，即显示空白<h3 id="图形属性"><a href="#图形属性" class="headerlink" title="图形属性"></a>图形属性</h3>不是传递给fill()与stroke()的参数，而是上下文对象的通用图形状态！是图形状态与绘制指令分离的思想！</li>
<li>c.fillStyle/c.strokeStyle:指定填充/勾勒时的颜色/图案/渐变</li>
<li>c.lineWidth:勾勒线宽，值为number类型，默认单位px</li>
<li>c.globalAlpha:绘制像素时的透明度，值在0~1之间，在原alpha的基础上乘以该值</li>
<li>c.textAlign/c.textBaseline:文本水平/垂直对齐方式</li>
<li>c.font：绘制文本时的CSS文字属性</li>
<li>c.shadowColor/c.shadowOffsetX/c.shadowOffsetY/c.shadowBlur:阴影属性</li>
<li>c.lineCap/c.lineJoin:线段端点/相交端点显示方式<br>c.fill()/c.stroke()后才会显示出来<h3 id="保存与恢复图形状态"><a href="#保存与恢复图形状态" class="headerlink" title="保存与恢复图形状态"></a>保存与恢复图形状态</h3></li>
<li>c.save()保存当前图形状态</li>
<li>c.restore()恢复原来的图形状态</li>
<li>Tips:<ul>
<li>可在多状态间切换</li>
<li>当前定义的路径及不属于图形状态的当前点不能保存/恢复<h3 id="坐标系变换"><a href="#坐标系变换" class="headerlink" title="坐标系变换"></a>坐标系变换</h3></li>
</ul>
</li>
<li>可通过c.translate()/c.rotate()/c.scale()实现坐标系变换<h3 id="曲线绘制"><a href="#曲线绘制" class="headerlink" title="曲线绘制"></a>曲线绘制</h3></li>
<li>c.arc(x,y,r,startAngle,endAngle,boolDerection):绘制圆心（x,y）,半径r,起始角度startAngle弧度,中止角度endAngle弧度,方向false为顺时针/true为逆时针的弧</li>
<li>c.arcTo(x1,y1,x2,y2,r):绘制与当前点到（x1,y1）及（x1,y1）到（x2,y2）的连线均相切且半径为r的弧<br>绘制圆角时使用较方便</li>
<li>c.bezierCurveTo()/c.quadraticCurveTo():绘制贝塞尔曲线<h3 id="勾勒与填充"><a href="#勾勒与填充" class="headerlink" title="勾勒与填充"></a>勾勒与填充</h3></li>
<li>纯色填充/勾勒：填充c.fillStyle=”rgb(2,8,90)/#f09”；勾勒c.strokeStyle=”#fff”</li>
<li>图案填充/勾勒：通过上下文对象的createPattern()方法<ul>
<li>c.fillStyle/strokeStyle=c.createPattern(“Element”,”repeat/repeat-x/repeat-y/no-repeat”):Element参数为&lt;img&gt;&lt;canvas&gt;&lt;video&gt;&lt;canvas&gt;或Image()构造函数创建的对象；第二个参数为重复方式</li>
</ul>
</li>
<li>渐变填充/勾勒：通过上下文对象的createLinear/RadialGradient()方法<ul>
<li>var chage=c.createLinearGradient(x1,y1,x2,y2);<br>(x1,y1)为渐变起点,(x2,y2)为渐变终点<br>(0,0,170,0)表示横向渐变，（0，0，0，50）标识竖向渐变，（0，0，50，50）表示对角渐变</li>
<li>var chage=c.createRadialGradient(x1,y1,r1,x2,y2,r2);<br>第二个圆要包含第一个圆，可不同心</li>
<li>change.addColorStop(0~1,’color’)：0~1表位置<br><span style="color:red;">添加渐变位置，至少有两处！</span></li>
</ul>
</li>
<li>调用c.fill()/c.stroke()方法实现指定样式的填充与勾勒</li>
<li>Tips:填充与勾勒均不改变路径！且不可用于阴影！<h3 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h3></li>
<li>c.font属性指定字体，字号等（同CSS的font复合属性）</li>
<li>c.fillStyle/c.strokeStyle指定填充/勾勒样式</li>
<li>还有c.textAlign/c.textBaseline属性</li>
<li>c.fillText(‘text’,x,y):填充（x,y）位置的text文本</li>
<li>c.strokeText(‘text’,x,y):勾勒（x,y）位置的text文本</li>
<li>c.measureText(‘text’).width:绘制文本前测量文本宽度<h3 id="线段绘制相关属性"><a href="#线段绘制相关属性" class="headerlink" title="线段绘制相关属性"></a>线段绘制相关属性</h3></li>
<li>c.lineCap:子路径端点连接方式，其可能值如下：<ul>
<li>butt:线段端点直接结束</li>
<li>square:端点再延长线段宽度的一半</li>
<li>round：端点再延长半径为线段宽度的一半半圆</li>
</ul>
</li>
<li>c.lineJoin:子路径相交顶点间连接方式，其可能值如下：<ul>
<li>miter：尖</li>
<li>round：圆</li>
<li>square：顶点处截断的方形<h3 id="裁剪"><a href="#裁剪" class="headerlink" title="裁剪"></a>裁剪</h3></li>
</ul>
</li>
<li>c.clip():将当前路径定义为裁剪区域，该区域外不会绘制</li>
<li>每次调用只会缩小裁剪区域，不会放大，可在之前用c.save()保存当前图形，需要时用c.restore()恢复<h3 id="阴影-图形和渐变不用于阴影"><a href="#阴影-图形和渐变不用于阴影" class="headerlink" title="阴影(图形和渐变不用于阴影)"></a>阴影(图形和渐变不用于阴影)</h3></li>
<li>c.shadowColor：指定阴影颜色，默认全透明黑色</li>
<li>c.offsetX/c.offsetY:阴影X轴Y轴偏移，偏移越大阴影越大，值为number类型<br>偏移不受rotate()等坐标变换影响</li>
<li>c.shadowBlur:阴影模糊度，值越大越模糊，值为number类型</li>
<li>Tips:要使用c.fill()/c.stroke()填充/勾勒！<h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3></li>
<li>c.drawImage(src,x,y,<del>width,height,desX,desY,desWidth,desHeight</del>):可传入3/5/9个参数<ul>
<li>3个参数：src为&lt;img&gt;&lt;video&gt;&lt;canvas&gt;或Image()构造函数创建的图片</li>
<li>5个参数：加上宽高</li>
<li>9个参数：将第2—5个参数的原矩形复制到第6—9个参数的目标矩形，此时坐标系为画布的坐标</li>
</ul>
</li>
<li>dcument.canvas.toDataURL():<span style="color:red;">这个方法不是上下文对象的，而是canvas标签的！</span>编码为图片URL字符串，有一个可选参数指定图片MIME类型如默认值image/png等，存在安全限制禁止跨域<h3 id="一个绘制多边形的例子"><a href="#一个绘制多边形的例子" class="headerlink" title="一个绘制多边形的例子"></a>一个绘制多边形的例子</h3>在（x,y）为中心r为半径的圆内绘制正n边形，其中c代表上下文对象<pre><br>function polygon(c,n,x,y,r){<br>var angle=2<em>MATH.PI/n; //n边形内角<br>c.beginPath();<br>c.moveTo(x+r</em>MATH.sin(angle),y-r<em>MATH.sin(angle));<br>for(var i=1;i&lt;n;i++){<br>var angleNow=(i+1)</em>angle;<br>c.lineTo(x+r<em>MATH.sin(angleNow),y-r</em>MATH.cos(angleNow))<br>}<br>c.closePath();<br>}<br></pre><br>这里只定义了路径，没有勾勒填充</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a><a class="article-category-link" href="/categories/technology/javascript/canvas/">canvas</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript学习笔记/">javascript学习笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-《javascript权威指南》学习笔记（12）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/09/《javascript权威指南》学习笔记（12）/" class="article-date">
      <time datetime="2016-07-09T02:00:23.000Z" itemprop="datePublished">2016-07-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/09/《javascript权威指南》学习笔记（12）/">《javascript权威指南》学习笔记（12）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="SVG初级篇"><a href="#SVG初级篇" class="headerlink" title="SVG初级篇"></a>SVG初级篇</h3><p><img src="http://o6yo3ducz.bkt.clouddn.com/javascript-book-cover.jpg" title="javascript权威指南" width="200px"></p>
<p>SVG代表可伸缩的矢量图形，是一种用于描述图形的XML语法，IE9以下不支持。通过对画图形时的必要路径的精准的分辨率无关的描述实现绘图<br>早期使用&lt;object/&gt;插入svg图像，现在可以直接写入文档中</p>
<p><div style="color:red;font-size:18px;"><br>用JS创建svg图形时，使用XML语法，要使用createElementNS()处理DOM创建，直接用createElement()创建，显示时会出现问题<br></div><br>简单示例<pre><br>&lt;svg width=”15” height=”15”&gt;<br> &lt;rect x=”0” y=”0” width=”5” height=”5” fill=”red”/&gt;<br> &lt;circle cx=”7.5” cy=”7.5” r=”2.5” fill=”green”/&gt;<br> &lt;text x=”12.5” y=”12.5”&gt;D_d&lt;/text&gt;<br> &lt;line x1=”0” y1=”0” x2=”15” y2=”15”/&gt;<br> &lt;path d=”M0 0 L0 5 A15,15 0 0 0 7,7Z” stroke=”blue” stroke-width=”2”&gt;&lt;/path&gt;<br>&lt;/svg&gt;<br></pre><br>可配合transform实现动态效果</p>
<h3 id="一个SVG饼图的例子"><a href="#一个SVG饼图的例子" class="headerlink" title="一个SVG饼图的例子"></a>一个SVG饼图的例子</h3><p><pre><br>function pieChart(data,width,height,cx,cy,r,colors){<br>var svgns=’<a href="http://www.w3.org/2000/svg" target="_blank" rel="external">http://www.w3.org/2000/svg</a>‘;<br>var chart=document.createElementsNS(svgns,’svg:svg’); //创建&lt;svg&gt;元素<br>chart.setAttribute(‘width’,width);<br>chart.setAttribute(‘height’,height);<br>chart.setAttribute(‘viewBox’,’0 0’+width+’ ‘+height);<br>var angles=[];  //用以存储每个扇形对应的角度<br>var total=0;    //用以存储data的合计值<br>for(var i=0;i<data.length;i++) total+="data[i];" for(var="" i="0;i<data.length;i++)" angles[i]="data[i]/total*2*MATH.PI;" var="" startangle="0;" endangle="startAngle+angles[i];" 计算扇形和圆的相交点，12点方向为0度，顺时针方向为正方向="" x1="cx+r*MATH.sin(startAngle);" y1="cy-r*MATH.cos(startAngle);" x2="cx+r*MATH.sin(endAngle);" y2="cy-r*MATH.cos(endAngle);" 判断优弧与劣弧,优弧big值为1="" big="(endAngle-startAngle">MATH.PI)?1:0;<br> var path=document.createElementsNS(svgns,’path’);<br> var d=’M’+cx+’,’+cy+’ L’+x1+’,’+’y1’+’ A’+r+’,’+r+’ 0 ‘+big+’ 1 ‘+x2+’,’+’y2’+’ Z’;<br> path.setAttribute(‘d’,d);<br> path.setAttribute(‘fill’,colors[i]);<br> path.setAttribute(‘stroke’,’’black);<br> path.setAttribute(‘stroke-width’,’2’);<br> chart.appendChild(path);<br> }<br>}<br></data.length;i++)></pre><br>效果图如下：</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/technology/">technology</a><a class="article-category-link" href="/categories/technology/javascript/">javascript</a><a class="article-category-link" href="/categories/technology/javascript/svg初级/">svg初级</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript学习笔记/">javascript学习笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2017 D_d
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 5;
			var num=Math.ceil(Math.random() * backgroundnum);
			var backgroundimg;
			if(num==1){
			  backgroundimg = "url(/background/bg-x.JPG)".replace(/x/gi, num);
			  //莫名其妙！！！第一张图后缀大写？？？
			}else{
			  backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, num);
			}
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>